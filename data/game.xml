<game>
  <world>
    <!-- Lois -->
    <room name="loisHome" title="A House in California"
          darkness="1">
      <initEvent type="vocabulary">
        <verb name="Look" />
        <verb name="Remember" />
        <verb name="Forget" />
        <verb name="Play" />
        <verb name="Learn" />
        <verb name="Catch" />
      </initEvent>
    </room>
    <room name="theSurfaceOfTheMoon" title="The Surface of the Moon"
          darkness="1" />
    <room name="aFountainInABackYard" title="A Fountain in a Back Yard"
          darkness="1" />
    <room name="aComputerInAGuestRoom" title="A Computer in a Guest Room"
          darkness="1">
    </room>
  </world>
  
  <!-- ######################################################### -->    
  <!-- ######################### VERBS ######################### -->
  <!-- ######################################################### -->    
  <verbs>

    <!--
       <verb>
         <name>Walk</name>
         <template>Walk to</template>
         <persist>1</persist>
       </verb>
       -->
    
    <verb>
      <name>Look</name>
      <template>Look at</template>
    </verb>

    <verb>
      <name>Remember</name>
    </verb>

    <verb>
      <name>Forget</name>
    </verb>

    <verb>
      <name>Play</name>
      <template>Play with</template>
    </verb>
    
    <verb>
      <name>Learn</name>
      <template>Learn about</template>
    </verb>

    <verb>
      <name>Kick</name>
    </verb>

    <verb>
      <name>Catch</name>
    </verb>

    <verb>
      <name>Light</name>
    </verb>

  </verbs>
  

  <!-- ######################################################### -->    
  <!-- ######################## SPRITES ######################## -->
  <!-- ######################################################### -->    
  
  <sprites>
    <!-- ######################### LOIS ######################### -->
    <sprite>
      <name>Lois</name>
      <look>Lois is a schoolteacher and an eager participant in the personal computing revolution.</look>
    </sprite>

    <!-- Room #1 - A House in California -->
    <sprite>
      <name>loisHouse</name>
      <verboseName>house</verboseName>
      <look>A house in California.</look>
      <verb name="Remember" moveTo="1">
        <behavior type="dialog">The house was in Lodi, it had a back yard with a fountain. It was always warm and bright.</behavior>
      </verb>
      <verb name="Forget" moveTo="1">
        <behavior type="dialog">Why is it so dark?</behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog">Running around the house is discouraged, something might be knocked off a table and broken.</behavior>
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog">The house was built in the 1960s.</behavior>
      </verb>
      <verb name="Catch" moveTo="1">
        <behavior type="dialog">The house isn't going anywhere.</behavior>
      </verb>
    </sprite>
    
    <sprite>
      <name>lampPost</name>
      <verboseName>lamp post</verboseName>
      <look>The lamp is out. It is dark, and a little scary.</look>
      <verb name="Remember" moveTo="1">
        <behavior type="dialog">It wasn't always like this. There was something in the lamp that lit the house...</behavior>
      </verb>
      <verb name="Forget" moveTo="1">
        <behavior type="dialog">Maybe it has always been like this.</behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog">It's too dark, swinging around the lamp post like a monkey will have to wait.</behavior>
      </verb>
      <verb name="Light" moveTo="1">
        <behavior type="addSprite" spriteName="lampFireflies" x="200" y="123" />
        <behavior type="fadeToMenu" delay="1" />
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog">The first street lights to be built in the United States was in Cleveland, Ohio. That's 2,408 miles from here.</behavior>
      </verb>
      <verb name="Catch" moveTo="1">
        <behavior type="dialog">The lamp post isn't going anywhere.</behavior>
      </verb>
    </sprite>

    <sprite spriteClass="LampFireflies">
      <name>lampFireflies</name>
      <verboseName>fireflies</verboseName>
    </sprite>
    
    <sprite spriteClass="Moon">
      <name>moon</name>
      <look>It looks familiar, but smaller and dimmer. Enough moonlight to walk by, but that's about it.</look>
      <verb name="Remember" moveTo="1">
        <behavior type="transitionToRoom" targetRoom="theSurfaceOfTheMoon" />
      </verb>
      <verb name="Forget" moveTo="1">
        <behavior type="dialog">Once forgotten, it's like a whole new moon.</behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog">Once, there was a boy who pretended to be the moon. He played with fireflies, pretending they were stars. That was a long time ago.</behavior>
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog">On average, the moon is roughly 230,000 miles from here.</behavior>
      </verb>
      <verb name="Catch" moveTo="1">
        <behavior type="dialog">It's too far away to catch, remember?</behavior>
      </verb>
    </sprite>

    <sprite spriteClass="LooseFireflies">
      <name>looseFireflies</name>
      <verboseName>loose fireflies</verboseName>>
      <look>A swarm of fireflies. Tiny flying beetles who make their rear ends glow. Why? Maybe just for fun.</look>

      <verb name="Catch" moveTo="1">
        <behavior type="catchFireflies" />
        <behavior type="removeSprite" targetSprite="looseFireflies" />
        
        <conditionalBehaviors flagName="allFirefliesCaught" value="0">        
          <behavior type="dialog">These fireflies will help light the lamp post, but there aren't quite enough of them yet.</behavior>
        </conditionalBehaviors>

        <conditionalBehaviors flagName="allFirefliesCaught" value="1">
          <behavior type="dialog">That's enough fireflies to light the lamp post.</behavior>
        </conditionalBehaviors>          
      </verb>
      
      <verb name="Remember" moveTo="1">
        <behavior type="dialog">These fireflies used to help light the lamp post, but they all got loose somehow.</behavior>        
      </verb>
      <verb name="Forget" moveTo="1">
        <behavior type="dialog">Where did these fireflies come from?</behavior>        
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog">Once, there was a boy who pretended to be a firefly. He looked at the moon and pretended it was one of his glowing firefly friends.</behavior>
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog">The glow of a firefly is called 'cold light' because it has no infrared or ultraviolet components.</behavior>
      </verb>
      
    </sprite>
    
    <!-- Room #2 - The Surface of the Moon -->  
    <sprite>
      <name>moonStars</name>
      <verboseName>stars</verboseName>
      <look>Some are further away than others.</look>    
      <verb name="Forget">
        <behavior type="transitionToRoom" targetRoom="loisHome" />
      </verb>

      <verb name="Remember">
        <behavior type="dialog">All of these stars are older than the phenomenon of memory.</behavior>
      </verb>
      <verb name="Play">
        <behavior type="dialog">Once, there was a boy who pretended to be a star, trillions of miles away. He looked at the stars and pretended one of them was Earth.</behavior>
      </verb>
      <verb name="Learn">
        <behavior type="dialog">The nearest star is 25 trillion miles from here.</behavior>
      </verb>
      <verb name="Catch">
        <behavior type="dialog">They look small from here, but they're actually too large to get a grip on.</behavior>
      </verb>
      
    </sprite>
    
    <sprite>
      <name>moonFountain</name>
      <verboseName>small fountain</verboseName>
      <look>It looks familiar but somehow ... smaller?  Could be a trick of the moonlight.</look>
      <verb name="Remember">
        <behavior type="transitionToRoom" targetRoom="aFountainInABackYard" />
      </verb>
      
      <verb name="Forget" moveTo="1">
        <behavior type="dialog">A perfectly normal moon fountain.</behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog">Not allowed to play in the fountain.</behavior>
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog">This kind of fountain belongs in a back yard.</behavior>
      </verb>
      <verb name="Catch" moveTo="1">
        <behavior type="dialog">There are no fish to catch in this fountain.</behavior>
      </verb>
    </sprite>
    
    <sprite>
      <name>dome</name>
      <look>It's a protective dome. A masterful blow could crack it open, but those fireflies are trapped for now.</look>
      
      <verb name="Kick" moveTo="1">
        <behavior type="soundEffect" soundName="glassBreak" />
        <behavior type="flash" />
        <behavior type="replaceSprite" oldSprite="dome" newSprite="brokenDome" />
        <behavior type="replaceSprite" oldSprite="moonFireflyCluster" newSprite="looseFireflies" />
        <behavior type="removeVerb" targetVerb="Kick" />
      </verb>

      <verb name="Remember" moveTo="1">
        <behavior type="dialog">This dome was built as a firefly trap. But how does it work? It's a mystery.</behavior>
      </verb>
      <verb name="Forget" moveTo="1">
        <behavior type="dialog">What could this dome be for?</behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog">Sliding down the sides of a giant glass dome is even more fun in low gravity.</behavior>
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog">The first man-made domes were built with Mammoth tusks over 20,000 years ago.</behavior>
      </verb>
      <verb name="Catch" moveTo="1">
        <behavior type="dialog">It's the fireflies that need catching, not the dome.</behavior>
      </verb>
      
    </sprite>

    <sprite spriteClass="TrappedFireflies">
      <name>moonFireflyCluster</name>
      <verboseName>fireflies</verboseName>
      <look>A swarm of fireflies trapped in a dome on the moon. They seem anxious.</look>

      <verb name="Remember" moveTo="1">
        <behavior type="dialog">These fireflies used to live in the lamp outside the house. Now it's just a matter of getting them out from this dome.</behavior>
      </verb>
      <verb name="Forget" moveTo="1">
        <behavior type="dialog">Hard to say where these fireflies came from.</behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog">The fireflies are so anxious under that dome, they don't seem interested in playing.</behavior>
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog">This study of firefly-in-dome anxiety has yielded about all the data it's ever going to.</behavior>
      </verb>
      <verb name="Catch" moveTo="1">
        <behavior type="dialog">The protective dome is in the way.</behavior>
      </verb>
    </sprite>

    <sprite>
      <name>brokenDome</name>
      <verboseName>broken dome</verboseName>
      <look>The dome is cracked open.</look>

      <verb name="Remember" moveTo="1">
        <behavior type="dialog">Fireflies used to be trapped in this dome, but now it's cracked wide open.</behavior>
      </verb>
      <verb name="Forget" moveTo="1">
        <behavior type="dialog">How did this happen?</behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog">It would be dangerous to play around this broken glass.</behavior>
      </verb>
      <verb name="Kick" moveTo="1">
        <behavior type="dialog">It's already broken.</behavior>
      </verb>
      <verb name="Catch" moveTo="1">
        <behavior type="dialog">It's the fireflies that need catching, not the dome.</behavior>        
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog">The first man-made domes were built with Mammoth tusks over 20,000 years ago. Perhaps they met a similar fate.</behavior>
      </verb>
      
    </sprite>
    
    <!-- Room #3 - A Fountain in a Back Yard -->
    <sprite>
      <name>fountain</name>
      <look>It takes care to maintain a fountain like this. It's the focal point of the back yard.</look>
      
      <verb name="Forget">
        <behavior type="transitionToRoom" targetRoom="theSurfaceOfTheMoon" />
      </verb>
      <verb name="Remember" moveTo="1">
        <behavior type="dialog">This fountain has been here for at least 20 years, a tranquilizing presence in the back yard.</behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog">Not allowed to play in the fountain.</behavior>
      </verb>
      <verb name="Catch" moveTo="1">
        <behavior type="dialog">There are fish in this fountain, but they look happy undisturbed.</behavior>
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog">Early fountains in towns and cities were used as public sources of drinking water. Now they're mostly decorative.</behavior>
      </verb>
    </sprite>

    <sprite>
      <name>smallFlowerPots</name>
      <verboseName>flowers</verboseName>
      <look>Lillies and pimpernels.</look>
      <verb name="Forget" moveTo="1">
        <behavior type="dialog">Hard to say who planted these flowers, maybe this is the home of a gardener.</behavior>
      </verb>
      <verb name="Remember" moveTo="1">
        <behavior type="dialog">These wild flowers were planted here by the wind.</behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog">Once, there was a boy who pretended to be a flower. He buried himself in the dirt and then slowly crawled out into the sun.</behavior>
      </verb>
      <verb name="Catch" moveTo="1">
        <behavior type="dialog">The bees hovering around these flowers will sting if they're caught.</behavior>
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog">There are over a hundred different kinds of lillies, maybe more.</behavior>
      </verb>
    </sprite>
    
    <sprite>
      <name>smallFlowerPots2</name>
      <verboseName>flowers</verboseName>
      <look>Hydrangeas and poinsettas.</look>
      <verb name="Forget" moveTo="1">
        <behavior type="dialog">Hard to say who planted these flowers, maybe this is the home of a gardener.</behavior>
      </verb>
      <verb name="Remember" moveTo="1">
        <behavior type="dialog">These wild flowers were planted here by the wind.</behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog">Once, there was a boy who pretended to be a flower. He closed his eyes, drank a glass of water, then slowly opened them.</behavior>
      </verb>
      <verb name="Catch" moveTo="1">
        <behavior type="dialog">The bees hovering around these flowers will sting if they're caught.</behavior>
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog">There are over a seventy-five different kinds of hydrangeas, maybe more.</behavior>
      </verb>
    </sprite>
    
    <sprite>
      <name>largeFlowerBox</name>
      <verboseName>flowers</verboseName>
      <look>Dahlias and daisies.</look>
      <verb name="Forget">
        <behavior type="dialog">Hard to say who planted these flowers, maybe this is the home of a gardener.</behavior>
      </verb>
      <verb name="Remember" moveTo="1">
        <behavior type="dialog">These wild flowers were planted here by the wind.</behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog">Once, there was a boy who pretended to be a flower. He held his arms tightly against his chest, stood in the sun, then slowly lifted his hands into the air.</behavior>
      </verb>
      <verb name="Catch" moveTo="1">
        <behavior type="dialog">The bees hovering around these flowers will sting if they're caught.</behavior>
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog">There are over a thirty-five different kinds of dahlias, maybe more.</behavior>
      </verb>
    </sprite>
    
    <sprite>
      <name>backyardStars</name>
      <verboseName>stars</verboseName>
      <look>Some are closer than others.</look>
      <verb name="Forget" moveTo="1">
        <behavior type="dialog"></behavior>
      </verb>
      <verb name="Remember" moveTo="1">
        <behavior type="dialog"></behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <behavior type="dialog"></behavior>
      </verb>
      <verb name="Catch" moveTo="1">
        <behavior type="dialog"></behavior>
      </verb>
      <verb name="Learn" moveTo="1">
        <behavior type="dialog"></behavior>
      </verb>
      
    </sprite>
    
    <sprite spriteClass="Window">
      <name>window</name>
      <look>It looks familiar, but smaller.</look>
      <verb name="Remember">
        <behavior type="transitionToRoom" targetRoom="aComputerInAGuestRoom" />
      </verb>
    </sprite>

    <sprite>
      <name>table</name>
      <look>The table looks unstable.</look>
      <verb name="Remember">
        <behavior type="dialog">Children used to play vigorously under this table, spilling any drinks resting on it, often as not.</behavior>
      </verb>
      <verb name="Kick">
        <behavior type="dialog">So aggressive!</behavior>
      </verb>
      <verb name="Play" moveTo="1">
        <conditionalBehaviors flagName="backyardJarBroken" value="0">
          <behavior type="soundEffect" soundName="glassBreak" />
          <behavior type="flash" />
          <behavior type="replaceSprite" oldSprite="jar" newSprite="brokenJar"
                    x="244" y="125" />
          <behavior type="addSprite" spriteName="looseFireflies"
                    x="250" y="117" width="15" height="10"  />
          <behavior type="dialog">What fun ... whoops!</behavior>

          <behavior type="setFlag" flagName="backyardJarBroken" value="1" />
        </conditionalBehaviors>
      </verb>
    </sprite>
    
    <sprite spriteClass="JarOfBugs">
      <name>jar</name>
      <verboseName>jar of glowing bugs</verboseName>
      <look>A jar full of fireflies.</look>
      <verb name="Remember">
        <behavior type="dialog">These fireflies have come a long way.</behavior>
      </verb>
      <verb name="Forget">
        <behavior type="dialog">Home sweet home.</behavior>
      </verb>
    </sprite>

    <sprite>
      <name>brokenJar</name>
      <verboseName>broken jar</verboseName>
      <look>The jar is broken.</look>
      <verb name="Remember">
        <behavior type="dialog">This jar used to have fireflies trapped in it.</behavior>
      </verb>
      <verb name="Forget">
        <behavior type="dialog">What happened to this jar?</behavior>
      </verb>
    </sprite>

    
    <!-- Room #4 - A Computer in a guest room -->    
    <sprite>
      <name>floppyDisk</name>
      <verboseName>floppy disk</verboseName>
      <look>It's a floppy disk copy of "Rocky's Boots" for the Apple II.</look>
      <verb name="Play">
        <behavior type="replaceSprite" oldSprite="computerScreen"
                  newSprite="computerScreenRockysBoots" />
        <behavior type="replaceSprite" oldSprite="computerScreenBoy"
                  newSprite="computerScreenRockysBoots" />
      </verb>
    </sprite>

    <sprite>
      <name>painting</name>
      <verboseName>strange painting</verboseName>
      <look>It's a watercolor painting of a vine growing up through a manhole. In the background there's a fire hydrant. It's a crude rendition, but there's something familiar about it; that fire hydrant almost looks touchable.</look>
      <verb name="Play">
        <behavior type="replaceSprite" oldSprite="computerScreen"
                  newSprite="computerScreenBoy" />
        <behavior type="replaceSprite" oldSprite="computerScreenRockysBoots"
                  newSprite="computerScreenBoy" />
      </verb>
    </sprite>

    <sprite>
      <name>computer</name>
      <look>It's an Apple II. A programmable machine, from a more civilized age.</look>
      <verb name="Forget">
        <behavior type="transitionToRoom" targetRoom="aFountainInABackYard" />
      </verb>
    </sprite>

    <sprite>
      <name>computerScreen</name>
      <verboseName>computer screen</verboseName>      
      <look>The screen is dark, nothing's running right now.</look>
      <verb name="Forget">
        <behavior type="transitionToRoom" targetRoom="aFountainInABackYard" />
      </verb>
      <verb name="Remember">
        <behavior type="dialog"></behavior>
      </verb>
    </sprite>

    <sprite spriteClass="ComputerScreenRockysBoots">
      <name>computerScreenRockysBoots</name>
      <verboseName>Rocky's Boots on computer screen</verboseName>      
      <look>Rocky's Boots is running on the computer right now. It's a diagram of a kicking machine.</look>
      <verb name="Learn" verbText="Learn about kicking machine" moveTo="1">
        <behavior type="dialog">The player of "Rocky's Boots" learns to build a machine that kicks. Through this process, one can learn more about both electronics and kicking.</behavior>
        <behavior type="addVerb" newVerb="Kick" />
      </verb>
    </sprite>
    
    <sprite spriteClass="ComputerScreenBoy">
      <name>computerScreenBoy</name>
      <verboseName>boy on computer screen</verboseName>
      <look>A small boy on the computer screen.</look>
      <verb name="Remember">
        <behavior type="flash" />        
        <behavior type="replaceSprite" oldSprite="computerScreenBoy"
                  newSprite="computerScreen" />
        <behavior type="addSprite" spriteName="looseFireflies" x="150" y="46"
                  width="51" height="34" />
      </verb>
    </sprite>
    
  </sprites>
</game>
